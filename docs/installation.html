<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Lychee Documentation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

    <link rel="canonical" href="https://lycheeorg.github.io/docs/">

    <!-- Favicon -->
    <!-- <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-touch-icon.png"> -->
    <link rel="icon" type="image/png" href="img/logo.png">
    <!-- <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon/favicon-32x32.png"> -->
    <!-- <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon/favicon-16x16.png"> -->
    <!-- <link rel="manifest" href="/img/favicon/site.webmanifest"> -->
    <!-- <link rel="mask-icon" href="/img/favicon/safari-pinned-tab.svg" color="#ff2d20"> -->
    <!-- <link rel="shortcut icon" href="/img/favicon/favicon.ico"> -->
    <meta name="msapplication-TileColor" content="#ff2d20">
    <!-- <meta name="msapplication-config" content="/img/favicon/browserconfig.xml"> -->
    <meta name="theme-color" content="#ffffff">

    <!-- Load fonts -->
    <link rel="stylesheet" href="https://use.typekit.net/ins2wgm.css">

    <!-- Load styles -->
    <link rel="stylesheet" type="text/css" href="css/app.css">

    <!-- Load JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
    <script src="js/vendor/require.js"></script>

</head>

<body class="language-php">

    <div class="sidebar_layout" id="docsScreen">

        <div class="page_contain">
            <div class="contain">
                <aside class="sidebar">
                    <a href="../" class="logo">
                        <img class="mark" src="img/logo.png" alt="Laravel">
                        <img class="type" src="img/Lychee.png" alt="Laravel">
                    </a>
                    <nav>
                        <div class="navigation_contain">
                            <div class="docs_sidebar">
                                <ul>
                                    <li class='sub--on'>
<h2>Prologue</h2>
<ul>
<li><a href='org.html'>Lychee & LycheeOrg</a></li>
<li><a href='releases.html'>Release Notes</a></li>
<li><a href='upgrade.html'>Upgrade from v3</a></li>
<li><a href='contributions.html'>Contribution Guide</a></li>
<li><a href='api.html'>API Documentation</a></li>
<li><a href='faq.html'>Frequently Asked Question</a></li>
</ul>
<li class='sub--on'>
<h2>Getting Started</h2>
<ul>
<li class='active'><a href='installation.html'>Installation</a></li>
<li><a href='configuration.html'>Configuration</a></li>
<li><a href='docker.html'>Docker</a></li>
<li><a href='update.html'>Update</a></li>
</ul>
<li class='sub--on'>
<h2>Digging Deeper</h2>
<ul>
<li><a href='settings.html'>Settings</a></li>
<li><a href='keyboard.html'>Keyboard Shortcuts</a></li>
<li><a href='read-more.html'>Lychee logic overview</a></li>
<li><a href='structure.html'>Directory Structure</a></li>
<li><a href='node.html'>Front-end</a></li>
<li><a href='distributions.html'>Distributions Examples</a></li>
</ul>

                                    <li class="laravel">
                                        <h2>Laravel Basics</h2>
                                        <ul>
                                            <li><a href="http://laravel.com/docs/7.x/routing">Routing</a></li>
                                            <li><a href="http://laravel.com/docs/7.x/middleware">Middleware</a></li>
                                            <li><a href="http://laravel.com/docs/7.x/csrf">CSRF Protection</a></li>
                                            <li><a href="http://laravel.com/docs/7.x/controllers">Controllers</a></li>
                                            <li><a href="http://laravel.com/docs/7.x/requests">Requests</a></li>
                                            <li><a href="http://laravel.com/docs/7.x/responses">Responses</a></li>
                                            <li><a href="http://laravel.com/docs/7.x/views">Views</a></li>
                                            <li><a href="http://laravel.com/docs/7.x/urls">URL Generation</a></li>
                                            <li><a href="http://laravel.com/docs/7.x/session">Session</a></li>
                                            <li><a href="http://laravel.com/docs/7.x/validation">Validation</a></li>
                                            <li><a href="http://laravel.com/docs/7.x/errors">Error Handling</a></li>
                                            <li><a href="http://laravel.com/docs/7.x/logging">Logging</a></li>
                                        </ul>
                                    </li>
                                    <li class="laravel">
                                        <h2>Laravel Database</h2>
                                        <ul>
                                            <li><a href="http://laravel.com/docs/7.x/database">Getting Started</a></li>
                                            <li><a href="http://laravel.com/docs/7.x/queries">Query Builder</a></li>
                                            <li><a href="http://laravel.com/docs/7.x/pagination">Pagination</a></li>
                                            <li><a href="http://laravel.com/docs/7.x/migrations">Migrations</a></li>
                                            <li><a href="http://laravel.com/docs/7.x/seeding">Seeding</a></li>
                                            <li><a href="http://laravel.com/docs/7.x/redis">Redis</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </nav>
                    <div class="trigger_contain">
                        <a href="#" class="nav_trigger" aria-label="Menu">
                            <div class="bar"></div>
                        </a>
                    </div>
                </aside>

                <section class="body_content">
                    <section class="docs_body">
                        <section class="docs_main">
                            <h1>Installation</h1>
                            
<ul>
<li><a href="#installation">Installation</a><ul>
<li><a href="#server-requirements">Server Requirements</a></li>
<li><a href="#installing-lychee">Installing Lychee</a></li>
<li><a href="#configuration">Configuration</a></li>
</ul>
</li>
<li><a href="#web-server-configuration">Web Server Configuration</a><ul>
<li><a href="#general">General</a></li>
<li><a href="#apache">Apache</a></li>
<li><a href="#nginx">Nginx</a></li>
</ul>
</li>
</ul>

                            <hr> <h2 id="installation"><a class="toclink" href="#installation">Installation</a></h2>
<h3 id="server-requirements"><a class="toclink" href="#server-requirements">Server Requirements</a></h3>
<p>The Lychee gallery has a few system requirements. You will need to make sure your server has the following:</p>
<ul>
<li>A web server such as Apache or nginx</li>
<li>A database &mdash; using one of the following: <ul>
<li>MySQL <em>(version &gt; 5.7.8)</em> / MariaDB <em>(version &gt; 10.2)</em></li>
<li>PostgreSQL <em>(version &gt; 9.2)</em></li>
<li>Lychee's inbuilt SQLite3 support</li>
</ul>
</li>
<li>Lychee 4.4.0 and later:<ul>
<li>PHP &gt;= 8.0 with these PHP extensions:<ul>
<li>BCMath</li>
<li>Ctype</li>
<li>Exif</li>
<li>Ffmpeg (optional &mdash; to generate video thumbnails)</li>
<li>Fileinfo</li>
<li>GD</li>
<li>Imagick (optional &mdash; to generate better thumbnails)</li>
<li>JSON</li>
<li>Mbstring</li>
<li>OpenSSL</li>
<li>PDO</li>
<li>Tokenizer</li>
<li>XML</li>
<li>ZIP</li>
</ul>
</li>
<li>These PHP extensions are necessary if you are running a FreeBSD system:<ul>
<li>Simplexml</li>
<li>Dom</li>
<li>Session</li>
<li>Zlib</li>
</ul>
</li>
<li>You will also need one of these PHP extensions:<ul>
<li>SQLite3 for SQLite3 databases</li>
<li>MySQLi (or PDO_MySQL) for MySQL or MariaDB databases</li>
<li>PgSql (or PDO_PGSQL) for PostgreSQL databases</li>
</ul>
</li>
</ul>
</li>
<li>To install from git you will also need composer. See <a href="#from-the-master-branch">below</a> for details.</li>
</ul>
<p>While Lychee works on 32bit systems, we <strong>strongly</strong> recommend the use of a 64bit OS.</p>
<h3 id="installing-lychee"><a class="toclink" href="#installing-lychee">Installing Lychee</a></h3>
<p>We provide three methods to install Lychee: using a Docker image, the latest release .zip or from source, using Composer.</p>
<h4 id="with-docker"><a class="toclink" href="#with-docker">With Docker</a></h4>
<p>Read <a href="docker.html">here</a>.</p>
<h4 id="from-release"><a class="toclink" href="#from-release">From Release</a></h4>
<p>Download the release zip-file from the <a href="https://github.com/LycheeOrg/Lychee/releases">Releases</a> page and extract it (usually in <code>/var/www/html</code>).
It contains a trimmed down version of the Lychee files.</p>
<h4 id="from-the-master-branch"><a class="toclink" href="#from-the-master-branch">From the Master branch</a></h4>
<p>Lychee utilizes <a href="https://getcomposer.org/">Composer</a> to manage its dependencies. Make sure you have Composer installed on your machine.</p>
<pre><code>git clone https://www.github.com/LycheeOrg/Lychee /var/www/html/Lychee
</code></pre>
<p>Get into the directory:</p>
<pre><code>cd /var/www/html/Lychee
</code></pre>
<p>Install the required dependencies.</p>
<pre><code>composer install --no-dev
</code></pre>
<p>If you want to help develop Lychee, install the development dependencies by removing the <code>--no-dev</code> or replacing it with --dev.</p>
<h3 id="configuration"><a class="toclink" href="#configuration">Configuration</a></h3>
<h4 id="public-directory"><a class="toclink" href="#public-directory">Public Directory</a></h4>
<p>After installing Lychee, configure your web server's root to be the <code>public</code> directory. The <code>index.php</code> in this directory serves as the interface for all HTTP requests to Lychee's API. Note that the <code>.env</code> file should <strong>not</strong> be exposed online as it contains the encryption key used for cookies as well as database credentials.</p>
<h4 id="configuration-files"><a class="toclink" href="#configuration-files">Configuration Files</a></h4>
<p>All of the configuration files for Lychee are stored in the <code>config</code> directory. Each option is documented, so feel free to look through the files and get familiar with the options available to you.</p>
<h4 id="directory-permissions"><a class="toclink" href="#directory-permissions">Directory Permissions</a></h4>
<p>After installing Lychee, you need to configure some permissions. Directories within the <code>storage</code> and the <code>bootstrap/cache</code> directories should be writable by your web server or Lychee will not run. Additionaly <code>public/uploads</code>, <code>public/dist</code> and <code>public/sym</code> need to be writable to upload files, customise the CSS and utilise <a href="https://lycheeorg.github.io/docs/settings.html#symbolic-link">symbolic links</a> respectively.</p>
<h4 id="application-key"><a class="toclink" href="#application-key">Application Key</a></h4>
<p>The next thing you should do after installing Lychee is set your application key to a random string. This is easily done by using the <code>php artisan key:generate</code> command.</p>
<p>Typically, this string should be 32 characters long. The key can be set in the <code>.env</code> environment file. If you have not copied the <code>.env.example</code> file to a new file named <code>.env</code>, you should do that now.</p>
<p><strong>If the application key is not set, your user sessions and other encrypted data will not be secure!</strong></p>
<h4 id="additional-configuration"><a class="toclink" href="#additional-configuration">Additional Configuration</a></h4>
<p>Lychee needs almost no other configuration out of the box. You are free to get started developing! However, you may wish to review the <code>config/app.php</code> file and its documentation. It contains some options that aren't included from <code>.env</code> that you may wish to change according to your installation.</p>
<p>You may also want to configure a few additional components of Lychee in <code>.env</code>, such as:</p>
<ul>
<li>Cache</li>
<li>Database</li>
<li>Session</li>
</ul>
<h2 id="web-server-configuration"><a class="toclink" href="#web-server-configuration">Web Server Configuration</a></h2>
<h3 id="general"><a class="toclink" href="#general">General</a></h3>
<p>It is strongly recommented that Lychee is served out of the root of your web server, not a subdirectory.</p>
<p>It is also strongly recommended to serve Lychee over TLS. You may wish to consider <a href="https://letsencrypt.org/">Let's Encrypt</a> for certificates and <a href="https://ssl-config.mozilla.org/">Mozilla's SSL Configuration Generator</a> for server configuration examples.</p>
<h3 id="apache"><a class="toclink" href="#apache">Apache</a></h3>
<p>Lychee includes a <code>public/.htaccess</code> file that is used to provide URLs without the <code>index.php</code> front controller in the path. Before serving Lychee with Apache, be sure to enable the <code>mod_rewrite</code> module so the <code>.htaccess</code> file will be honored by the server.</p>
<p>Also check the Apache <a href="https://lycheeorg.github.io/docs/upgrade.html#using-apache">upgrade instructions</a> for required permissions in your /etc/apache2/sites-available/example.com.conf file.</p>
<p>If the <code>.htaccess</code> file that ships with Lychee does not work with your Apache installation, try this alternative:</p>
<pre><code>Options +FollowSymLinks -Indexes
RewriteEngine On

RewriteCond %{HTTP:Authorization} .
RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]

RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^ index.php [L]
</code></pre>
<h3 id="nginx"><a class="toclink" href="#nginx">Nginx</a></h3>
<p>This is a sample nginx server block. It does not include TLS, but covers the Lychee-specific requirements.</p>
<pre><code>server {
    listen 80;
    server_name &lt;mydomain&gt;.&lt;tld&gt;;

##### Path to the Lychee public/ directory.
    root /var/www/Lychee/public/;
    index index.php;

    # If the request is not for a valid file (image, js, css, etc.), send to bootstrap
    if (!-e $request_filename)
    {
        rewrite ^/(.*)$ /index.php?/$1 last;
        break;
    }

    # Serve /index.php through PHP
    location = /index.php {
        fastcgi_split_path_info ^(.+?\.php)(/.*)$;

        # Mitigate https://httpoxy.org/ vulnerabilities
        fastcgi_param HTTP_PROXY &quot;&quot;;

######### Make sure this is the correct socket for your system
        fastcgi_pass unix:/run/php/php8.1-fpm.sock;
        fastcgi_index index.php;
######## You may need to replace $document_root with the absolute path to your public folder.
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
        fastcgi_param PHP_VALUE &quot;post_max_size=100M
            max_execution_time=200
            upload_max_filesize=30M
            memory_limit=300M&quot;;
        fastcgi_param PATH /usr/local/bin:/usr/bin:/bin;
        include fastcgi_params;
    }
    # Deny access to other .php files, rather than exposing their contents
    location ~ [^/]\.php(/|$) {
        return 403;
    }

    # [Optional] Lychee-specific logs
    error_log  /var/log/nginx/lychee.error.log;
    access_log /var/log/nginx/lychee.access.log;

    # [Optional] Remove trailing slashes from requests (prevents SEO duplicate content issues)
    rewrite ^/(.+)/$ /$1 permanent;
}
</code></pre><blockquote><p>{tip} Caught a mistake or want to contribute to the documentation?&nbsp;<a href="https://github.com/LycheeOrg/LycheeOrg.github.io/tree/master/docs/installation.md">Edit this page on Github!</a></p></blockquote>
                        </section>
                    </section>
                </section>
            </div>
        </div>

    </div>
</body>
<script src="js/app.js"></script>

</html>